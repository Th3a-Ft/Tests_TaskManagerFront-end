{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"custom-table\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"table\", _hoisted_1, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList($setup.columns, col => {\n    return _createElementVNode(\"th\", {\n      key: col\n    }, _toDisplayString(col), 1 /* TEXT */);\n  }), 64 /* STABLE_FRAGMENT */))])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.data, (item, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index\n    }, [_createElementVNode(\"td\", null, _toDisplayString(item.id), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.description), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.status), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createVNode($setup[\"BtnRm\"], {\n      id: item.id,\n      onTaskDeleted: $setup.fetchTasks\n    }, null, 8 /* PROPS */, [\"id\"]), _createVNode($setup[\"BtnUpdateStatus\"])])]);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_Fragment","_renderList","$setup","columns","col","key","_toDisplayString","data","item","index","id","description","status","_createVNode","onTaskDeleted","fetchTasks"],"sources":["/home/thea.fort@Digital-Grenoble.local/IdeaProjects/Tests_TaskManagerFront-end/src/components/TasksTable.vue"],"sourcesContent":["<template>\n  <table class=\"custom-table\">\n    <thead>\n    <tr>\n      <th v-for=\"col in columns\" :key=\"col\">{{ col }}</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr v-for=\"(item, index) in data\" :key=\"index\">\n      <td>{{ item.id }}</td>\n      <td>{{ item.description }}</td>\n      <td>{{ item.status }}</td>\n      <td>\n        <BtnRm :id=\"item.id\" @task-deleted=\"fetchTasks\"/>\n        <BtnUpdateStatus/>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue';\nimport api from '../services/api';\nimport BtnRm from \"@/components/BtnRm.vue\";\nimport BtnUpdateStatus from \"@/components/BtnUpdateStatus.vue\";\n\nconst columns = ['Id Task', 'Description', 'Status', 'Actions'];\nconst data = ref([]);\n\nconst fetchTasks = async () => {\n  try {\n    const response = await api.getTasks();\n    data.value = response.data || response;\n  } catch (error) {\n    console.error('Erreur lors de la récupération des tâches :', error);\n  }\n};\n\nonMounted(fetchTasks);\n\n// Exposer fetchTasks pour pouvoir l'appeler depuis le parent\ndefineExpose({ fetchTasks });\n</script>"],"mappings":";;EACSA,KAAK,EAAC;AAAc;;uBAA3BC,mBAAA,CAiBQ,SAjBRC,UAiBQ,GAhBNC,mBAAA,CAIQ,gBAHRA,mBAAA,CAEK,c,cADHF,mBAAA,CAAoDG,SAAA,QAJ1DC,WAAA,CAIwBC,MAAA,CAAAC,OAAO,EAAdC,GAAG;WAAdL,mBAAA,CAAoD;MAAxBM,GAAG,EAAED;IAAG,GAAAE,gBAAA,CAAKF,GAAG;sCAG9CL,mBAAA,CAUQ,iB,kBATRF,mBAAA,CAQKG,SAAA,QAhBTC,WAAA,CAQgCC,MAAA,CAAAK,IAAI,EARpC,CAQgBC,IAAI,EAAEC,KAAK;yBAAvBZ,mBAAA,CAQK;MAR8BQ,GAAG,EAAEI;IAAK,IAC3CV,mBAAA,CAAsB,YAAAO,gBAAA,CAAfE,IAAI,CAACE,EAAE,kBACdX,mBAAA,CAA+B,YAAAO,gBAAA,CAAxBE,IAAI,CAACG,WAAW,kBACvBZ,mBAAA,CAA0B,YAAAO,gBAAA,CAAnBE,IAAI,CAACI,MAAM,kBAClBb,mBAAA,CAGK,aAFHc,YAAA,CAAiDX,MAAA;MAAzCQ,EAAE,EAAEF,IAAI,CAACE,EAAE;MAAGI,aAAY,EAAEZ,MAAA,CAAAa;qCACpCF,YAAA,CAAkBX,MAAA,qB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}